<nav>
  <div class="tab-bar">

    <!-- SVE KATEGORIJE -->
    <div
      class="tab allCategories"
      (mouseenter)="openMenu()"
      (mouseleave)="closeMenu()"
      (click)="toggleMenu()"
    >
      <i class="fas fa-bars"></i>
      <span class="kategorije-trigger">SVE KATEGORIJE</span>

      <!-- vertikalni meni -->
      <app-all-categories-menu
        *ngIf="showMenu"
        (closeMenu)="forceCloseMenu()"
      ></app-all-categories-menu>
    </div>

    <!-- Glavne kategorije (tabovi) -->
    <div
      *ngFor="let glavnaGrupa of glavneGrupeSaNadgrupamaIGrupamaUziSkup; let i = index"
      class="tab-wrapper"
      (mouseenter)="onMouseEnter(i)"
      (mouseleave)="onMouseLeave()"
    >
      <div class="tab" [routerLink]="[glavnaGrupa.name]">
        <span>{{ utilService.formatirajNaziv(glavnaGrupa.name) }}</span>
      </div>

      <!-- Mega meni za hover glavne grupe -->
      <div
        class="dropdown-menu"
        *ngIf="hoveredIndex === i"
        (mouseenter)="onMouseEnter(i)"
        (mouseleave)="onMouseLeave()"
      >
        <app-submenu [glavnaGrupa]="glavnaGrupa"></app-submenu>
      </div>
    </div>

  </div>
</nav>
